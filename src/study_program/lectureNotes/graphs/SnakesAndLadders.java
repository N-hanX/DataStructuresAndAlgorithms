package study_program.lectureNotes.graphs;

import java.util.*;

public class SnakesAndLadders {
    public static void main(String[] args) {
        ArrayList<Integer> moves = new ArrayList<>(Arrays.asList(
                -1, 18, -1, -1, -1, -1, -1, -1, 2, -1, -1, 15, -1, -1, -1, -1, -1, -1, -1, -1));
        int n = 20;
//
//        ArrayList<Integer> moves = new ArrayList<>(Arrays.asList(
//                -1, -1, -1, -1, -1, -1, -1, -1));
//        int n = 8;

//        ArrayList<Integer> moves = new ArrayList<>(Arrays.asList(
//                -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 3, -1, 3, -1, -1, -1, -1, -1, -1));
//        int n = 19;
//
//        ArrayList<Integer> moves = new ArrayList<>(Arrays.asList(
//                -1, -1, -1, 1, -1, -1, -1, -1, -1, 15, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
//                -1, 45, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 41, -1, -1, -1, -1, -1));
//        int n = 46;

//
//        ArrayList<Integer> moves = new ArrayList<>(Arrays.asList(-1, -1, -1, -1, -1, -1, 1393, 633, -1, -1, -1, -1, 1347, -1, -1, -1, -1, -1, 449, -1, -1, -1, 638, -1, -1, -1, -1, -1, -1, -1, -1, 1309, -1, -1, -1, 180, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 785, -1, -1, -1, -1, 416, -1, 671, 781, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1365, -1, 662, -1, -1, -1, -1, -1, 687, 321, -1, -1, -1, -1, -1, 465, -1, -1, -1, -1, -1, -1, -1, -1, 1072, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1243, -1, -1, -1, 51, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1134, -1, -1, -1, -1, 41, -1, -1, -1, -1, 46, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 780, -1, -1, -1, -1, -1, -1, -1, -1, 1155, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 330, -1, 98, -1, -1, -1, 426, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 253, -1, -1, -1, -1, -1, -1, -1, -1, 1399, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 208, -1, -1, 80, -1, 1047, -1, 536, -1, 942, -1, -1, 837, 186, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 141, -1, -1, -1, -1, -1, -1, -1, -1, -1, 838, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1118, -1, -1, -1, -1, -1, -1, -1, 32, -1, 1372, -1, -1, 892, 869, 1046, 221, -1, -1, 779, -1, -1, -1, -1, -1, 1219, -1, -1, -1, -1, -1, -1, 481, -1, -1, -1, 460, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1234, -1, -1, 1183, -1, -1, -1, -1, 808, -1, -1, -1, 261, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1173, -1, -1, 510, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 395, -1, -1, -1, -1, -1, 1031, -1, -1, -1, -1, -1, -1, -1, -1, 656, -1, -1, -1, 1375, -1, -1, -1, -1, 476, -1, 880, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1341, -1, -1, -1, -1, -1, 814, -1, -1, -1, 870, -1, 1370, -1, -1, -1, -1, -1, -1, -1, -1, 3, -1, -1, -1, -1, -1, -1, 579, -1, -1, -1, -1, -1, -1, -1, 81, -1, -1, -1, -1, 243, -1, -1, -1, -1, 347, -1, -1, -1, -1, -1, 267, -1, -1, -1, -1, -1, -1, 175, 448, 948, -1, -1, -1, -1, -1, -1, 1023, -1, -1, -1, -1, 271, 994, -1, -1, 69, -1, -1, -1, -1, -1, -1, -1, -1, 560, -1, 1214, 1359, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 319, 139, -1, -1, -1, 1097, -1, -1, -1, -1, -1, -1, -1, -1, 1421, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1092, -1, -1, -1, -1, 1150, 1390, -1, 1026, -1, -1, 351, 1002, -1, -1, -1, -1, -1, 1401, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 118, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 801, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 367, -1, -1, -1, -1, -1, 1055, -1, -1, -1, -1, -1, 190, -1, -1, -1, -1, -1, -1, -1, 812, -1, -1, -1, -1, -1, -1, 1378, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 990, -1, -1, -1, -1, -1, 419, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 285, -1, -1, -1, -1, 1391, -1, 2, -1, -1, -1, -1, -1, -1, 146, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 672, 786, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 706, -1, 774, -1, -1, -1, -1, -1, -1, 1385, -1, -1, -1, -1, 797, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 923, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1280, -1, -1, -1, 1416, -1, -1, -1, -1, -1, -1, 279, -1, -1, 1215, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 275, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 985, -1, -1, 607, -1, -1, 551, -1, -1, -1, 403, -1, 16, -1, -1, 733, 769, 1, -1, 681, -1, -1, -1, -1, -1, 1089, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 875, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 918, -1, -1, -1, -1, -1, -1, 334, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1082, -1, -1, -1, 1380, -1, -1, -1, -1, -1, -1, -1, 432, -1, 494, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 455, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1099, -1, -1, -1, -1, -1, -1, -1, -1, -1, 350, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 498, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 436, -1, -1, 658, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1226, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 770, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 846, -1, -1, -1, 1078, -1, -1, -1, -1, 1316, -1, -1, -1, -1, 1009, -1, -1, -1, -1, -1, -1, 669, -1, -1, -1, -1, 847, -1, -1, -1, -1, -1, -1, -1, -1, 1288, -1, 236, -1, -1, 160, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1116, -1, -1, -1, -1, 90, 1218, -1, 952, -1, -1, -1, -1, -1, 602, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 810, -1, -1, -1, 264, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1269, -1, -1, -1, -1, -1, -1, -1, 1394, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1414, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 132, -1, -1, 1208, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 941, -1, -1, -1, -1, -1, -1, -1, -1, 1315, -1, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 668, -1, -1, -1, -1, 1411, 1382, -1, -1, -1, 1163, -1, -1, 945, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 684, -1, -1, -1, -1, 984, -1, -1, -1, -1, 1313, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 188, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1388, -1, -1, -1, 547, -1, -1, -1, -1, -1, -1, 213, -1, 1310, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 99, -1, -1, -1, -1, 1057, -1));
//        int n = 1425;

        Integer result = minimum_number_of_rolls(n, moves);

        int a = 4;
    }

    static Integer minimum_number_of_rolls(Integer n, ArrayList<Integer> moves) {
        int result = bfs(n, moves);
        return result;
    }

    static Integer bfs(Integer n, ArrayList<Integer> moves) {
        if(n == 1)
            return 0;

        int[] visited = new int[n];

        Queue<Integer> currNodes = new LinkedList<>();
        currNodes.add(0);
        visited[0] = 0;

        while(!currNodes.isEmpty()){
            int currNodeVal = currNodes.poll();

            for(int dice = 1; dice <= 6; dice++){
                int potentialDestination = currNodeVal + dice;

                if(potentialDestination >= n - 1) {
                    return visited[currNodeVal] + 1;
                }

                if(visited[potentialDestination] > 0){
                    continue;
                }

                if(moves.get(potentialDestination) == -1){
                    visited[potentialDestination] = visited[currNodeVal] + 1;
                    currNodes.add(potentialDestination);
                }else{
                    visited[potentialDestination] = visited[currNodeVal] + 1;
                    visited[moves.get(potentialDestination)] = visited[currNodeVal] + 1;

                    if(moves.get(potentialDestination) == n - 1)
                        return visited[moves.get(potentialDestination)];

                    currNodes.add(moves.get(potentialDestination));
                }
            }
            if(visited[currNodeVal] == 0)
                visited[currNodeVal] = 1;
        }
        return -1;
    }
}
